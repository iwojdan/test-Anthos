{"apiVersion":"apps/v1","kind":"Deployment","metadata":{"labels":{"app.kubernetes.io/instance":"r1","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/name":"r1-amf-n2","core5g-interface":"n2","emco/deployment-id":"4159257416098272377-wef-5-0","helm.sh/chart":"5g-amf-2.46.2","nf":"amf","product":"wef"},"name":"r1-amf-n2","namespace":"default"},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/instance":"r1","app.kubernetes.io/name":"r1-amf-n2"}},"template":{"metadata":{"labels":{"app.kubernetes.io/instance":"r1","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/name":"r1-amf-n2","core5g-interface":"n2","emco/deployment-id":"4159257416098272377-wef-5-0","helm.sh/chart":"5g-amf-2.46.2","nf":"amf","product":"wef"}},"spec":{"containers":[{"envFrom":[{"configMapRef":{"name":"r1-n2link-services"}},{"configMapRef":{"name":"r1-n2link-config"}}],"image":"xg-core-delivery-docker-local.artifact.b-com.com/n2link:0.31.1","imagePullPolicy":"IfNotPresent","livenessProbe":{"initialDelaySeconds":10,"periodSeconds":5,"tcpSocket":{"port":12345}},"name":"r1-amf-n2link","ports":[{"containerPort":38412,"name":"ngap","protocol":"SCTP"}],"resources":{"limits":{"cpu":"500m","memory":"500Mi"},"requests":{"cpu":"50m","memory":"10Mi"}},"tty":true,"volumeMounts":[{"mountPath":"/conf/","name":"config-n2"}]},{"image":"xg-core-delivery-docker-local.artifact.b-com.com/license:1.0.0","imagePullPolicy":"IfNotPresent","name":"r1-license","ports":[{"containerPort":12345,"name":"license-port"}],"volumeMounts":[{"mountPath":"/etc/licenses/","name":"volume-license","readOnly":true}]}],"imagePullSecrets":[{"name":"registrypullsecret"}],"initContainers":[{"command":["sh","-c","set -x; while [ $(curl --connect-timeout 5 -s -o /dev/null -w \"%{http_code}\" $AMQP_DNS:15672) -ne 200 ]; do echo waiting for deployment $AMQP_DNS; sleep 5; done"],"envFrom":[{"configMapRef":{"name":"r1-n2link-services"}}],"image":"xg-core-delivery-docker-local.artifact.b-com.com/public/byrnedo/alpine-curl:0.1.8","name":"init-wait-rabbit"}],"terminationGracePeriodSeconds":5,"volumes":[{"configMap":{"name":"r1-n2link-config"},"name":"config-n2"},{"name":"volume-license","secret":{"secretName":"license-secret"}}]}}}}
