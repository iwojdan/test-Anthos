{"apiVersion":"apps/v1","kind":"Deployment","metadata":{"labels":{"app.kubernetes.io/component":"controller","app.kubernetes.io/instance":"r1","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/name":"ingress-nginx","app.kubernetes.io/part-of":"ingress-nginx","app.kubernetes.io/version":"1.2.1","emco/deployment-id":"1687519632397923676-wef-5-0","helm.sh/chart":"ingress-nginx-4.1.4-patch1-bcom"},"name":"default-r1-ingress-nginx-controller","namespace":"default"},"spec":{"minReadySeconds":0,"replicas":1,"revisionHistoryLimit":10,"selector":{"matchLabels":{"app.kubernetes.io/component":"controller","app.kubernetes.io/instance":"r1","app.kubernetes.io/name":"ingress-nginx"}},"template":{"metadata":{"labels":{"app.kubernetes.io/component":"controller","app.kubernetes.io/instance":"r1","app.kubernetes.io/name":"ingress-nginx","emco/deployment-id":"1687519632397923676-wef-5-0"}},"spec":{"containers":[{"args":["/nginx-ingress-controller","--default-backend-service=$(POD_NAMESPACE)/default-r1-ingress-nginx-defaultbackend","--publish-service=$(POD_NAMESPACE)/default-r1-ingress-nginx-controller","--election-id=ingress-controller-leader","--controller-class=k8s.io/default-r1-wef-ingress-nginx","--ingress-class=default-r1-wef-nginx","--configmap=$(POD_NAMESPACE)/default-r1-ingress-nginx-controller","--tcp-services-configmap=$(POD_NAMESPACE)/default-r1-ingress-nginx-tcp","--watch-namespace=$(POD_NAMESPACE)"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"fieldPath":"metadata.namespace"}}},{"name":"LD_PRELOAD","value":"/usr/local/lib/libmimalloc.so"}],"image":"xg-core-delivery-docker-local.artifact.b-com.com/public/k8s.gcr.io/ingress-nginx/controller:v1.2.1","imagePullPolicy":"IfNotPresent","lifecycle":{"preStop":{"exec":{"command":["/wait-shutdown"]}}},"livenessProbe":{"failureThreshold":5,"httpGet":{"path":"/healthz","port":10254,"scheme":"HTTP"},"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"name":"controller","ports":[{"containerPort":80,"name":"http","protocol":"TCP"},{"containerPort":443,"name":"https","protocol":"TCP"},{"containerPort":6653,"name":"6653-tcp","protocol":"TCP"},{"containerPort":8185,"name":"8185-tcp","protocol":"TCP"}],"readinessProbe":{"failureThreshold":3,"httpGet":{"path":"/healthz","port":10254,"scheme":"HTTP"},"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"resources":{"limits":{"cpu":"100m","memory":"200Mi"},"requests":{"cpu":"100m","memory":"90Mi"}},"securityContext":{"allowPrivilegeEscalation":true,"capabilities":{"add":["NET_BIND_SERVICE"],"drop":["ALL"]},"runAsUser":101}}],"dnsPolicy":"ClusterFirst","imagePullSecrets":[{"name":"registrypullsecret"}],"nodeSelector":{"kubernetes.io/os":"linux"},"serviceAccountName":"default-r1-ingress-nginx","terminationGracePeriodSeconds":300}}}}
