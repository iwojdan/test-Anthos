{"apiVersion":"apps/v1","kind":"Deployment","metadata":{"labels":{"app.kubernetes.io/instance":"r1","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/name":"r1-smf-n4-dnam","emco/deployment-id":"4450945460859694116-wef-5-0","helm.sh/chart":"smf-n4-5g-0.9.0","nf":"smf-n4-dnam","product":"wef"},"name":"r1-smf-n4-dnam","namespace":"default"},"spec":{"replicas":1,"selector":{"matchLabels":{"app.kubernetes.io/instance":"r1","app.kubernetes.io/name":"r1-smf-n4-dnam","nf":"smf-n4-dnam"}},"template":{"metadata":{"labels":{"app.kubernetes.io/instance":"r1","app.kubernetes.io/managed-by":"Helm","app.kubernetes.io/name":"r1-smf-n4-dnam","emco/deployment-id":"4450945460859694116-wef-5-0","helm.sh/chart":"smf-n4-5g-0.9.0","nf":"smf-n4-dnam","product":"wef"}},"spec":{"containers":[{"args":["-c","/conf/dnam.conf"],"image":"xg-core-delivery-docker-local.artifact.b-com.com/spgw-data-network-address-manager:0.4.5","imagePullPolicy":"IfNotPresent","livenessProbe":{"tcpSocket":{"port":8888}},"name":"r1-smf-n4-dnam","ports":[{"containerPort":8888}],"readinessProbe":{"tcpSocket":{"port":8888}},"resources":{"limits":{"cpu":"300m","memory":"256Mi"},"requests":{"cpu":"100m","memory":"64Mi"}},"volumeMounts":[{"mountPath":"/conf/","name":"config-volume-dnam"}]}],"imagePullSecrets":[{"name":"registrypullsecret"}],"initContainers":[{"command":["sh","-c","set -x; while [ \"$(timeout 3 redis-cli -h $SPGW_C_REDIS_DNS -p $SPGW_C_REDIS_SERVICE_PORT PING)\" != \"PONG\" ]; do echo \"waiting for deployment $SPGW_C_REDIS_DNS\"; sleep 5; done"],"envFrom":[{"configMapRef":{"name":"r1-smf-n4-dnam-services"}}],"image":"xg-core-delivery-docker-local.artifact.b-com.com/public/bitnami/redis:5.0.7-r55","name":"init-wait-redis"}],"volumes":[{"configMap":{"name":"r1-smf-n4-dnam"},"name":"config-volume-dnam"}]}}}}
